{"ast":null,"code":"var _jsxFileName = \"/home/al/Documents/PrisonSkills/Front-End/src/components/Login.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport { Link } from \"react-router-dom\";\nexport default function LogInForm(props) {\n  function handleSubmit(values, actions) {\n    axios.post(\"https://prisonerbw.herokuapp.com/api/auth/login\", values).then(response => {\n      console.log(response);\n      console.log(props);\n      localStorage.setItem(\"token\", res.data.token);\n      tools.props.history.push(\"/dashboard\");\n      console.log(res.data.token);\n      actions.resetForm();\n    }).catch(e => console.log(e)).finally(() => {\n      console.log(\"Axios request finished.\");\n    });\n  }\n\n  return React.createElement(StyledLogin, {\n    className: \"LogInForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Login\"), React.createElement(Formik, {\n    onSubmit: handleSubmit,\n    initialValues: initialState,\n    validationSchema: validationSchema,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"user-name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"username\"), React.createElement(Field, {\n    type: \"text\",\n    id: \"user-name\",\n    name: \"username\",\n    placeholder: \"Enter your username here\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(ErrorMessage, {\n    name: \"email\",\n    component: \"div\",\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"current-password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Password\"), React.createElement(Field, {\n    type: \"password\",\n    id: \"current-password\",\n    name: \"password\",\n    placeholder: \"Enter your password here\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(ErrorMessage, {\n    name: \"password\",\n    component: \"div\",\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Submit\")))), React.createElement(Link, {\n    to: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Not Registered? Go to Registration page\"));\n}\nconst initialState = {\n  username: \"\",\n  password: \"\"\n};\nconst validationSchema = Yup.object().shape({\n  username: Yup.string().required(\"Please enter a username\"),\n  password: Yup.string().required(\"Please enter a password\")\n});\nconst StyledLogin = styled.div`\n  border: 1px blue solid;\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-content: flex-end;\n  margin: 20px;\n`;","map":{"version":3,"sources":["/home/al/Documents/PrisonSkills/Front-End/src/components/Login.js"],"names":["React","axios","styled","Yup","Formik","Form","Field","ErrorMessage","Link","LogInForm","props","handleSubmit","values","actions","post","then","response","console","log","localStorage","setItem","res","data","token","tools","history","push","resetForm","catch","e","finally","initialState","validationSchema","username","password","object","shape","string","required","StyledLogin","div"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport { Link } from \"react-router-dom\";\n\nexport default function LogInForm(props) {\n  function handleSubmit(values, actions) {\n    axios\n      .post(\"https://prisonerbw.herokuapp.com/api/auth/login\", values)\n      .then(response => {\n        console.log(response);\n        console.log(props);\n\n        localStorage.setItem(\"token\", res.data.token);\n        tools.props.history.push(\"/dashboard\");\n        console.log(res.data.token);\n        actions.resetForm();\n      })\n      .catch(e => console.log(e))\n      .finally(() => {\n        console.log(\"Axios request finished.\");\n      });\n  }\n  return (\n    <StyledLogin className=\"LogInForm\">\n      <h1>Login</h1>\n      <Formik\n          onSubmit={handleSubmit}\n        initialValues={initialState}\n        validationSchema={validationSchema}\n      >\n        <Form>\n          <div>\n            {/* username */}\n            <label htmlFor=\"user-name\">username</label>\n            <Field\n              type=\"text\"\n              id=\"user-name\"\n              name=\"username\"\n              placeholder=\"Enter your username here\"\n            />\n            <ErrorMessage name=\"email\" component=\"div\" className=\"error\" />\n          </div>\n          <div>\n            {/* Password */}\n            <label htmlFor=\"current-password\">Password</label>\n            <Field\n              type=\"password\"\n              id=\"current-password\"\n              name=\"password\"\n              placeholder=\"Enter your password here\"\n            />\n            <ErrorMessage name=\"password\" component=\"div\" className=\"error\" />\n          </div>\n          <div>\n            {/* //submit button */}\n            <button type=\"submit\">Submit</button>\n          </div>\n\n        </Form>\n      </Formik>\n          <Link to=\"/register\">Not Registered? Go to Registration page</Link>\n    </StyledLogin>\n  );\n}\nconst initialState = {\n  username: \"\",\n  password: \"\"\n};\n\nconst validationSchema = Yup.object().shape({\n  username: Yup.string().required(\"Please enter a username\"),\n  password: Yup.string().required(\"Please enter a password\")\n});\n\nconst StyledLogin = styled.div`\n  border: 1px blue solid;\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-content: flex-end;\n  margin: 20px;\n`;\n"]},"metadata":{},"sourceType":"module"}