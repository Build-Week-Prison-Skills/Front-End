{"ast":null,"code":"var _jsxFileName = \"/home/al/Documents/PrisonSkills/Front-End/src/components/Register.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport { Link } from \"react-router-dom\";\nconst initialVal = {\n  username: \"\",\n  password: \"\",\n  prison_id: \"\"\n}; //   { \"username\": \"Admin\",\n//   \"password\": \"1234\",\n//   \"prison_id\": 1 }\n\nexport default function Register(props) {\n  const [registeredStaff, setRegStaff] = useState([]);\n\n  function submitHandler(values, actions) {\n    axios.post(\"https://prisonerbw.herokuapp.com/api/auth/register\", values).then(response => {\n      console.log(response);\n      console.log(props);\n      setRegStaff([...registeredStaff, values]);\n      console.log(registeredStaff);\n      actions.resetForm();\n    }).catch(e => console.log(e)).finally(() => {\n      console.log(\"Axios request finished.\");\n    });\n  }\n\n  return React.createElement(StyledReg, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Login\"), React.createElement(Formik, {\n    initialValues: initialVal,\n    onSubmit: submitHandler,\n    validationSchema: validationSchema,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"current_username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"username\"), React.createElement(Field, {\n    type: \"text\",\n    id: \"current_username\",\n    name: \"username\",\n    placeholder: \"Enter username here\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(ErrorMessage, {\n    name: \"username\",\n    component: \"div\",\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"current_password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Password\"), React.createElement(Field, {\n    type: \"password\",\n    id: \"current_password\",\n    name: \"password\",\n    placeholder: \"Enter your password here\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(ErrorMessage, {\n    name: \"password\",\n    component: \"div\",\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"prison-id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"prison_id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Prison id\"), React.createElement(Field, {\n    type: \"text\",\n    id: \"prison_id\",\n    name: \"prison_id\",\n    placeholder: \"Enter facility ID here\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(ErrorMessage, {\n    name: \"prison_id\",\n    component: \"div\",\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Submit\"))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Already Registered?\")));\n}\nconst validationSchema = Yup.object().shape({\n  username: Yup.string().required(\"Please enter a username\").min(2, \"Too Short!\").max(25, \"Too Long!\"),\n  password: Yup.string().required(\"Please enter a password\").min(5, \"Too Short!\").max(25, \"Too Long!\").matches(/(?=.*[0-9])/, \"Must contain at least one number\")\n});\nconst StyledReg = styled.div`\n  border: 1px blue solid;\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-content: flex-end;\n  margin: 20px;\n`;","map":{"version":3,"sources":["/home/al/Documents/PrisonSkills/Front-End/src/components/Register.js"],"names":["React","useState","axios","styled","Yup","Formik","Form","Field","ErrorMessage","Link","initialVal","username","password","prison_id","Register","props","registeredStaff","setRegStaff","submitHandler","values","actions","post","then","response","console","log","resetForm","catch","e","finally","validationSchema","object","shape","string","required","min","max","matches","StyledReg","div"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport { Link } from \"react-router-dom\";\n\nconst initialVal = {\n  username: \"\",\n  password: \"\",\n  prison_id: \"\"\n};\n\n//   { \"username\": \"Admin\",\n//   \"password\": \"1234\",\n//   \"prison_id\": 1 }\nexport default function Register(props) {\n  const [registeredStaff, setRegStaff] = useState([]);\n\n  function submitHandler(values, actions) {\n    axios\n      .post(\"https://prisonerbw.herokuapp.com/api/auth/register\", values)\n      .then(response => {\n        console.log(response);\n        console.log(props);\n        setRegStaff([...registeredStaff, values]);\n        console.log(registeredStaff);\n        actions.resetForm();\n      })\n      .catch(e => console.log(e))\n      .finally(() => {\n        console.log(\"Axios request finished.\");\n      });\n  }\n  return (\n    <StyledReg>\n         <h1>Login</h1>\n      <Formik\n        initialValues={initialVal}\n        onSubmit={submitHandler}\n        validationSchema={validationSchema}\n      >\n        <Form>\n          {/* Name */}\n          <div className=\"username\">\n            <label htmlFor=\"current_username\">username</label>\n            <Field\n              type=\"text\"\n              id=\"current_username\"\n              name=\"username\"\n              placeholder=\"Enter username here\"\n            />\n            <ErrorMessage name=\"username\" component=\"div\" className=\"error\" />\n          </div>\n          <div className=\"password\">\n            {/* //Password */}\n            <label htmlFor=\"current_password\">Password</label>\n            <Field\n              type=\"password\"\n              id=\"current_password\"\n              name=\"password\"\n              placeholder=\"Enter your password here\"\n            />\n            <ErrorMessage name=\"password\" component=\"div\" className=\"error\" />\n          </div>\n          <div className=\"prison-id\">\n            <label htmlFor=\"prison_id\">Prison id</label>\n            <Field\n              type=\"text\"\n              id=\"prison_id\"\n              name=\"prison_id\"\n              placeholder=\"Enter facility ID here\"\n            />\n            <ErrorMessage name=\"prison_id\" component=\"div\" className=\"error\" />\n          </div>\n\n          {/* //submit button */}\n          <button type=\"submit\">Submit</button>\n        </Form>\n      </Formik>\n      <div>\n        <Link to=\"/login\">Already Registered?</Link>\n      </div>\n    </StyledReg>\n  );\n}\n\nconst validationSchema = Yup.object().shape({\n  username: Yup.string()\n    .required(\"Please enter a username\")\n    .min(2, \"Too Short!\")\n    .max(25, \"Too Long!\"),\n  password: Yup.string()\n    .required(\"Please enter a password\")\n    .min(5, \"Too Short!\")\n    .max(25, \"Too Long!\")\n    .matches(/(?=.*[0-9])/, \"Must contain at least one number\")\n});\n\nconst StyledReg = styled.div`\n  border: 1px blue solid;\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-content: flex-end;\n  margin: 20px;\n`;\n"]},"metadata":{},"sourceType":"module"}